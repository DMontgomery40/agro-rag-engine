# Master Controls Manifest (ALL_KNOBS.yaml Strategy)

We will generate a canonical “master list” of every setting, toggle, dropdown, and control used in the GUI. It stays in sync with the backend and is exportable to YAML for audits and accessibility.

## Source of Truth
- `SettingsRegistry` (backend) enumerates all environment variables, tunables, and metadata (type, default, enum, range, help, group, sensitivity).
- For feature‑specific controls (e.g., reranker training tabs), each router/service contributes a small schema extension merged into the registry.

## Export Formats
- JSON Schema served by `/api/config-schema` (for the React forms).
- YAML export generated by a script:
  - `scripts/generate_all_knobs_yaml.py` reads `/api/config-schema` and writes `data/ui/ALL_KNOBS.yaml`.
  - CI job regenerates and checks diffs on PR; PR must include updated YAML when controls change.

## GUI Synchronization
- Forms and dropdowns in the SPA are rendered from the schema; provider/model lists come from the model catalog (see “Model Catalog & Price Updater”).
- Secret fields remain masked in API responses; YAML shows `<<secret>>` placeholder for values.

## Accessibility
- The YAML is linked in the GUI (Settings → Export Controls) to give a text‑only index of everything for screen readers and external review.

