<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configuration/filtering" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Filtering &amp; Exclusions | AGRO Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://dmontgomery40.github.io/agro-rag-engine/img/agro-social.png"><meta data-rh="true" name="twitter:image" content="https://dmontgomery40.github.io/agro-rag-engine/img/agro-social.png"><meta data-rh="true" property="og:url" content="https://dmontgomery40.github.io/agro-rag-engine/configuration/filtering"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Filtering &amp; Exclusions | AGRO Documentation"><meta data-rh="true" name="description" content="AGRO&#x27;s indexer automatically excludes noise files (tests, node_modules, build artifacts) to keep retrieval focused on production code. This is critical for retrieval quality - including tests can tank accuracy from 82% to 1.9%."><meta data-rh="true" property="og:description" content="AGRO&#x27;s indexer automatically excludes noise files (tests, node_modules, build artifacts) to keep retrieval focused on production code. This is critical for retrieval quality - including tests can tank accuracy from 82% to 1.9%."><link data-rh="true" rel="icon" href="/agro-rag-engine/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dmontgomery40.github.io/agro-rag-engine/configuration/filtering"><link data-rh="true" rel="alternate" href="https://dmontgomery40.github.io/agro-rag-engine/configuration/filtering" hreflang="en"><link data-rh="true" rel="alternate" href="https://dmontgomery40.github.io/agro-rag-engine/configuration/filtering" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YOUR_APP_ID-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Filtering & Exclusions","item":"https://dmontgomery40.github.io/agro-rag-engine/configuration/filtering"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="AGRO Documentation" href="/agro-rag-engine/opensearch.xml"><link rel="stylesheet" href="/agro-rag-engine/assets/css/styles.1a1fe8cb.css">
<script src="/agro-rag-engine/assets/js/runtime~main.34578a38.js" defer="defer"></script>
<script src="/agro-rag-engine/assets/js/main.58efc273.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/agro-rag-engine/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/agro-rag-engine/"><div class="navbar__logo"><img src="/agro-rag-engine/img/logo.svg" alt="AGRO Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/agro-rag-engine/img/logo.svg" alt="AGRO Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AGRO</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/agro-rag-engine/">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/DMontgomery40/agro-rag-engine" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/agro-rag-engine/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/agro-rag-engine/getting-started/quickstart"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agro-rag-engine/getting-started/quickstart"><span title="Quick Start" class="linkLabel_WmDU">Quick Start</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agro-rag-engine/getting-started/installation"><span title="Installation" class="linkLabel_WmDU">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agro-rag-engine/getting-started/first-steps"><span title="First Steps" class="linkLabel_WmDU">First Steps</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/agro-rag-engine/features/rag"><span title="Core Features" class="categoryLinkLabel_W154">Core Features</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/agro-rag-engine/api/reference"><span title="API Reference" class="categoryLinkLabel_W154">API Reference</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/agro-rag-engine/configuration/models"><span title="Configuration" class="categoryLinkLabel_W154">Configuration</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agro-rag-engine/configuration/models"><span title="Model Configuration" class="linkLabel_WmDU">Model Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agro-rag-engine/configuration/performance"><span title="Performance &amp; Cost Analysis" class="linkLabel_WmDU">Performance &amp; Cost Analysis</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/agro-rag-engine/configuration/filtering"><span title="Filtering &amp; Exclusions" class="linkLabel_WmDU">Filtering &amp; Exclusions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/agro-rag-engine/configuration/alerting"><span title="Alerting System" class="linkLabel_WmDU">Alerting System</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/agro-rag-engine/development/contributing"><span title="Development" class="categoryLinkLabel_W154">Development</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/agro-rag-engine/operations/deployment"><span title="Operations" class="categoryLinkLabel_W154">Operations</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/agro-rag-engine/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Configuration</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Filtering &amp; Exclusions</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Filtering &amp; Exclusions</h1></header>
<p>AGRO&#x27;s indexer automatically excludes noise files (tests, node_modules, build artifacts) to keep retrieval focused on production code. This is <strong>critical for retrieval quality</strong> - including tests can tank accuracy from 82% to 1.9%.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-filtering-matters">Why Filtering Matters<a href="#why-filtering-matters" class="hash-link" aria-label="Direct link to Why Filtering Matters" title="Direct link to Why Filtering Matters" translate="no">​</a></h2>
<p><strong>The Problem:</strong> Without filtering, your index includes:</p>
<ul>
<li class="">Test files (<code>.spec.ts</code>, <code>test_*.py</code>) that use similar language to prod code</li>
<li class="">Build artifacts (<code>dist/</code>, <code>build/</code>) that duplicate source code</li>
<li class="">Dependencies (<code>node_modules/</code>, <code>.venv/</code>) with irrelevant library code</li>
<li class="">Generated files (<code>.d.ts</code>, <code>.min.js</code>) that pollute embeddings</li>
</ul>
<p><strong>Impact on retrieval:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">Index WITH tests:        Index WITHOUT tests:</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Top-1 accuracy: 1.9%     Top-1 accuracy: 82%</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Top-5 accuracy: 12%      Top-5 accuracy: 95%</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">MRR: 0.14                MRR: 0.88</span><br></span></code></pre></div></div>
<p><strong>Real example:</strong> Query &quot;How does authentication work?&quot; returned <code>auth.test.js</code> (mock auth) instead of <code>auth.js</code> (real implementation).</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="filtering-architecture">Filtering Architecture<a href="#filtering-architecture" class="hash-link" aria-label="Direct link to Filtering Architecture" title="Direct link to Filtering Architecture" translate="no">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">┌─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  Source Directory                       │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  - 10,000 files                         │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">└──────────────┬──────────────────────────┘</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">               │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">               ↓</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">┌─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  Step 1: Directory Pruning              │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  - Skip .git, node_modules, .venv, etc. │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  - Defined in common/filtering.py       │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">└──────────────┬──────────────────────────┘</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">               │ → 5,000 files</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">               ↓</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">┌─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  Step 2: File Extension Filter          │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  - Skip binaries, images, backups       │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  - Defined in common/filtering.py       │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">└──────────────┬──────────────────────────┘</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">               │ → 3,000 files</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">               ↓</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">┌─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  Step 3: Glob Pattern Exclusions        │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  - data/exclude_globs.txt patterns      │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  - Tests, generated files, etc.         │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">└──────────────┬──────────────────────────┘</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">               │ → 1,200 files (production code only)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">               ↓</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">┌─────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  Indexed Chunks                         │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  - AST-aware chunking                   │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">│  - Embeddings + BM25 index              │</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">└─────────────────────────────────────────┘</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="built-in-directory-exclusions">Built-in Directory Exclusions<a href="#built-in-directory-exclusions" class="hash-link" aria-label="Direct link to Built-in Directory Exclusions" title="Direct link to Built-in Directory Exclusions" translate="no">​</a></h2>
<p><strong>Hard-coded in <code>common/filtering.py</code>:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">PRUNE_DIRS </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.git&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.github&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.gitlab&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">     </span><span class="token comment" style="color:rgb(106, 153, 85)"># Version control</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.venv&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;venv&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;env&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">           </span><span class="token comment" style="color:rgb(106, 153, 85)"># Python virtualenvs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;node_modules&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">                   </span><span class="token comment" style="color:rgb(106, 153, 85)"># Node.js dependencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;dist&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;build&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;target&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)"># Build outputs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;__pycache__&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.pytest_cache&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(106, 153, 85)"># Python caches</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;coverage&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.tox&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.mypy_cache&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)"># Testing/linting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.idea&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.vscode&quot;</span><span class="token plain">                </span><span class="token comment" style="color:rgb(106, 153, 85)"># IDE metadata</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre></div></div>
<p><strong>Why hard-coded?</strong> These directories are universally noise - no scenario where you&#x27;d want them indexed.</p>
<p><strong>To modify:</strong> Edit <code>common/filtering.py</code> and rebuild index.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="file-extension-exclusions">File Extension Exclusions<a href="#file-extension-exclusions" class="hash-link" aria-label="Direct link to File Extension Exclusions" title="Direct link to File Extension Exclusions" translate="no">​</a></h2>
<p><strong>Defined in <code>common/filtering.py</code>:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">_should_index_file</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">bool</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># ALWAYS index important .txt files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> name </span><span class="token keyword" style="color:rgb(86, 156, 214)">in</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;requirements.txt&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;requirements-rag.txt&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;exclude_globs.txt&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token boolean">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># EXCLUDE markdown and generic text (per user requirement)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">endswith</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.md&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.markdown&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.rst&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.txt&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token boolean">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># Skip binaries, images, backups</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    skip_suffixes </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.min.js&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.png&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.jpg&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.jpeg&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.gif&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.webp&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.pdf&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.zip&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.tar&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.gz&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.bak&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.backup&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">any</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">endswith</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">for</span><span class="token plain"> s </span><span class="token keyword" style="color:rgb(86, 156, 214)">in</span><span class="token plain"> skip_suffixes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token boolean">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># Skip lock files and caches</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;lock&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">in</span><span class="token plain"> name </span><span class="token keyword" style="color:rgb(86, 156, 214)">or</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.cache&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">in</span><span class="token plain"> name </span><span class="token keyword" style="color:rgb(86, 156, 214)">or</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;backup&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">in</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token boolean">False</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token boolean">True</span><br></span></code></pre></div></div>
<p><strong>Exception handling:</strong> Critical files like <code>requirements.txt</code> are always indexed even if they match exclusion patterns.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="glob-pattern-exclusions">Glob Pattern Exclusions<a href="#glob-pattern-exclusions" class="hash-link" aria-label="Direct link to Glob Pattern Exclusions" title="Direct link to Glob Pattern Exclusions" translate="no">​</a></h2>
<p><strong>File:</strong> <code>data/exclude_globs.txt</code></p>
<p>This is the <strong>most powerful filtering layer</strong> - supports full glob syntax for complex patterns.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="default-patterns">Default Patterns<a href="#default-patterns" class="hash-link" aria-label="Direct link to Default Patterns" title="Direct link to Default Patterns" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Backup files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.bak</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.bak</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token plain">-9</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.backup</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.backup-*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Build artifacts / vendor / caches</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/node_modules/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/vendor/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/dist/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/build/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.venv/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/venv/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.next/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.turbo/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/__pycache__/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.pytest_cache/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># IDE / Editor data (CRITICAL)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.editor_data/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.code-server/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.vscode-server/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.openvscode-server/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Minified or generated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.min.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.min.css</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.map</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.bundle.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.generated.*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Test files (CRITICAL for accuracy)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/test/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/tests/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.spec.ts</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.test.ts</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.spec.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.test.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/fixtures/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/mocks/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/__mocks__/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/playwright*.ts</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Generated/vendor code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.d.ts</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/external/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/third_party/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/migrations/**</span><br></span></code></pre></div></div>
<p><strong>Full file:</strong> <code>/Users/davidmontgomery/agro-rag-engine/data/exclude_globs.txt</code></p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-to-configure-filtering">How to Configure Filtering<a href="#how-to-configure-filtering" class="hash-link" aria-label="Direct link to How to Configure Filtering" title="Direct link to How to Configure Filtering" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="via-gui-recommended">Via GUI (Recommended)<a href="#via-gui-recommended" class="hash-link" aria-label="Direct link to Via GUI (Recommended)" title="Direct link to Via GUI (Recommended)" translate="no">​</a></h3>
<ol>
<li class=""><strong>Settings tab → Filters subtab</strong></li>
<li class=""><strong>Edit exclusion patterns</strong> (live preview of matched files)</li>
<li class=""><strong>Click &quot;Save &amp; Reindex&quot;</strong> (rebuilds index with new patterns)</li>
</ol>
<p><strong>GUI Features:</strong></p>
<ul>
<li class="">Syntax highlighting for glob patterns</li>
<li class="">Live validation (shows which files will be excluded)</li>
<li class="">Preset templates (Python, JavaScript, Rust, Go)</li>
<li class="">Dry-run mode (see what would be excluded without reindexing)</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="via-file-editing">Via File Editing<a href="#via-file-editing" class="hash-link" aria-label="Direct link to Via File Editing" title="Direct link to Via File Editing" translate="no">​</a></h3>
<p>Edit <code>data/exclude_globs.txt</code> directly:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Custom exclusions for your project</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/legacy/**           </span><span class="token comment" style="color:rgb(106, 153, 85)"># Old code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/archived/**         </span><span class="token comment" style="color:rgb(106, 153, 85)"># Archived files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/temp/**             </span><span class="token comment" style="color:rgb(106, 153, 85)"># Temporary files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/scratch/**          </span><span class="token comment" style="color:rgb(106, 153, 85)"># Scratch work</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.DS_Store           </span><span class="token comment" style="color:rgb(106, 153, 85)"># macOS metadata</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/Thumbs.db           </span><span class="token comment" style="color:rgb(106, 153, 85)"># Windows metadata</span><br></span></code></pre></div></div>
<p><strong>Glob syntax:</strong></p>
<ul>
<li class=""><code>*</code> - Matches any characters (not /)</li>
<li class=""><code>**</code> - Matches any number of directories</li>
<li class=""><code>?</code> - Matches single character</li>
<li class=""><code>[abc]</code> - Matches one character in set</li>
<li class=""><code>[!abc]</code> - Matches one character NOT in set</li>
</ul>
<p><strong>Example patterns:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Exclude all JavaScript test files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.test.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.spec.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Exclude specific directories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/legacy/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/archive/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Exclude files with &#x27;backup&#x27; anywhere in name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*backup*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Exclude numbered backups</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.bak</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token plain">-9</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><br></span></code></pre></div></div>
<p>After editing, reindex:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python indexer/index_repo.py</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="language-specific-presets">Language-Specific Presets<a href="#language-specific-presets" class="hash-link" aria-label="Direct link to Language-Specific Presets" title="Direct link to Language-Specific Presets" translate="no">​</a></h2>
<p>AGRO includes preset filter templates for common stacks:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="python">Python<a href="#python" class="hash-link" aria-label="Direct link to Python" title="Direct link to Python" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Python-specific exclusions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/__pycache__/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.pyc</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.pytest_cache/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.mypy_cache/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.tox/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/venv/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.venv/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.egg-info/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/dist/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/build/**</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="javascripttypescript">JavaScript/TypeScript<a href="#javascripttypescript" class="hash-link" aria-label="Direct link to JavaScript/TypeScript" title="Direct link to JavaScript/TypeScript" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># JS/TS-specific exclusions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/node_modules/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/dist/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/build/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.next/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.turbo/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.svelte-kit/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.min.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.bundle.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.d.ts</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/coverage/**</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="rust">Rust<a href="#rust" class="hash-link" aria-label="Direct link to Rust" title="Direct link to Rust" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Rust-specific exclusions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/target/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/Cargo.lock  </span><span class="token comment" style="color:rgb(106, 153, 85)"># Optional - can be helpful for dependency context</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.rlib</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.rmeta</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="go">Go<a href="#go" class="hash-link" aria-label="Direct link to Go" title="Direct link to Go" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Go-specific exclusions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/vendor/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.test</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/testdata/**</span><br></span></code></pre></div></div>
<p><strong>Apply preset:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Via GUI: Settings → Filters → Load Preset → Python</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Or copy preset to exclude_globs.txt</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="lockfile-strategy">Lockfile Strategy<a href="#lockfile-strategy" class="hash-link" aria-label="Direct link to Lockfile Strategy" title="Direct link to Lockfile Strategy" translate="no">​</a></h2>
<p><strong>Default: Include lockfiles</strong> (disabled exclusions in <code>exclude_globs.txt</code>)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Lockfiles - DISABLED for SOTA RAG (can be helpful for dependency context)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># **/pnpm-lock.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># **/package-lock.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># **/yarn.lock</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># **/poetry.lock</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># **/Pipfile.lock</span><br></span></code></pre></div></div>
<p><strong>Rationale:</strong></p>
<ul>
<li class="">Lockfiles contain dependency versions (useful for debugging version conflicts)</li>
<li class="">Small file size impact (~1-2% of index)</li>
<li class="">Can help answer &quot;What version of X are we using?&quot;</li>
</ul>
<p><strong>To exclude lockfiles:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Uncomment these lines in exclude_globs.txt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/pnpm-lock.yaml</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/package-lock.json</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/yarn.lock</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/poetry.lock</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/Pipfile.lock</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="testing-exclusion-impact">Testing Exclusion Impact<a href="#testing-exclusion-impact" class="hash-link" aria-label="Direct link to Testing Exclusion Impact" title="Direct link to Testing Exclusion Impact" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="dry-run-mode">Dry Run Mode<a href="#dry-run-mode" class="hash-link" aria-label="Direct link to Dry Run Mode" title="Direct link to Dry Run Mode" translate="no">​</a></h3>
<p>Preview what files would be excluded without reindexing:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Via GUI: Settings → Filters → Dry Run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Shows list of files that match exclusion patterns</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="eval-beforeafter">Eval Before/After<a href="#eval-beforeafter" class="hash-link" aria-label="Direct link to Eval Before/After" title="Direct link to Eval Before/After" translate="no">​</a></h3>
<p>Compare retrieval quality before and after changing filters:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># 1. Run baseline eval</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-m</span><span class="token plain"> eval.eval_loop </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--baseline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 2. Change filters (e.g., add test exclusions)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;**/test/**&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;&gt;</span><span class="token plain"> data/exclude_globs.txt</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 3. Reindex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python indexer/index_repo.py</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 4. Run eval again</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-m</span><span class="token plain"> eval.eval_loop </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--compare</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Output:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Baseline MRR: 0.72</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Current MRR: 0.88  (+0.16)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Top-1 accuracy: 82% (was 1.9%)</span><br></span></code></pre></div></div>
<p><strong>Golden question accuracy tracks filtering effectiveness.</strong></p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-exclusion-patterns">Common Exclusion Patterns<a href="#common-exclusion-patterns" class="hash-link" aria-label="Direct link to Common Exclusion Patterns" title="Direct link to Common Exclusion Patterns" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exclude-tests-critical">Exclude Tests (Critical)<a href="#exclude-tests-critical" class="hash-link" aria-label="Direct link to Exclude Tests (Critical)" title="Direct link to Exclude Tests (Critical)" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Comprehensive test exclusions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/test/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/tests/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/__tests__/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.test.ts</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.test.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.spec.ts</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.spec.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.test.py</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/test_*.py</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/fixtures/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/mocks/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/__mocks__/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/playwright*.ts</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/cypress/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.e2e.ts</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exclude-generated-files">Exclude Generated Files<a href="#exclude-generated-files" class="hash-link" aria-label="Direct link to Exclude Generated Files" title="Direct link to Exclude Generated Files" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># TypeScript declarations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.d.ts</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Minified JS/CSS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.min.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.min.css</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.bundle.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.chunk.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Source maps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.map</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Proto-generated code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.pb.go</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*_pb2.py</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*_pb2_grpc.py</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exclude-build-artifacts">Exclude Build Artifacts<a href="#exclude-build-artifacts" class="hash-link" aria-label="Direct link to Exclude Build Artifacts" title="Direct link to Exclude Build Artifacts" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Build directories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/dist/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/build/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/out/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/target/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.next/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.turbo/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.svelte-kit/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/public/build/**</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exclude-vendordependencies">Exclude Vendor/Dependencies<a href="#exclude-vendordependencies" class="hash-link" aria-label="Direct link to Exclude Vendor/Dependencies" title="Direct link to Exclude Vendor/Dependencies" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Package managers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/node_modules/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/vendor/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/Pods/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/Godeps/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.bundle/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Python</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/site-packages/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.venv/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/venv/**</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="exclude-documentation-optional">Exclude Documentation (Optional)<a href="#exclude-documentation-optional" class="hash-link" aria-label="Direct link to Exclude Documentation (Optional)" title="Direct link to Exclude Documentation (Optional)" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># If you want retrieval to focus on code only</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.md</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.markdown</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.rst</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/docs/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/documentation/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/wiki/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Exception: Keep critical docs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">README.md</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">CONTRIBUTING.md</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">CHANGELOG.md</span><br></span></code></pre></div></div>
<p><strong>Note:</strong> AGRO&#x27;s default is to exclude <code>.md</code> files per built-in filtering, but you can override by allowing specific patterns.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="index-is-too-large">&quot;Index is too large&quot;<a href="#index-is-too-large" class="hash-link" aria-label="Direct link to &quot;Index is too large&quot;" title="Direct link to &quot;Index is too large&quot;" translate="no">​</a></h3>
<p><strong>Symptom:</strong> Index size &gt; 1GB, slow retrieval</p>
<p><strong>Cause:</strong> Not excluding vendor code, build artifacts, or tests</p>
<p><strong>Solution:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Check what&#x27;s being indexed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-lh</span><span class="token plain"> data/agro/chunks.jsonl  </span><span class="token comment" style="color:rgb(106, 153, 85)"># Should be &lt; 100MB for typical repo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Add aggressive exclusions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">cat</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;&gt;</span><span class="token plain"> data/exclude_globs.txt </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;&lt;</span><span class="token string" style="color:rgb(206, 145, 120)">EOF</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/node_modules/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/dist/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/build/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/test/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/tests/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Reindex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python indexer/index_repo.py</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="retrieval-returns-wrong-files">&quot;Retrieval returns wrong files&quot;<a href="#retrieval-returns-wrong-files" class="hash-link" aria-label="Direct link to &quot;Retrieval returns wrong files&quot;" title="Direct link to &quot;Retrieval returns wrong files&quot;" translate="no">​</a></h3>
<p><strong>Symptom:</strong> Search returns test files or mocks instead of prod code</p>
<p><strong>Cause:</strong> Tests not excluded, or insufficient test exclusions</p>
<p><strong>Solution:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Add comprehensive test exclusions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">cat</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;&gt;</span><span class="token plain"> data/exclude_globs.txt </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;&lt;</span><span class="token string" style="color:rgb(206, 145, 120)">EOF</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/test/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/tests/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/*.test.*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/*.spec.*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/fixtures/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/mocks/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/__mocks__/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Reindex and eval</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python indexer/index_repo.py</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-m</span><span class="token plain"> eval.eval_loop</span><br></span></code></pre></div></div>
<p><strong>Expected improvement:</strong> Top-1 accuracy should jump from ~2% to ~80%+</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="important-files-are-excluded">&quot;Important files are excluded&quot;<a href="#important-files-are-excluded" class="hash-link" aria-label="Direct link to &quot;Important files are excluded&quot;" title="Direct link to &quot;Important files are excluded&quot;" translate="no">​</a></h3>
<p><strong>Symptom:</strong> Can&#x27;t find files you know exist</p>
<p><strong>Cause:</strong> Overly aggressive exclusion patterns</p>
<p><strong>Solution:</strong></p>
<ol>
<li class="">
<p><strong>Check dry run:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># GUI: Settings → Filters → Dry Run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Shows excluded files - look for false positives</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Use negation patterns:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Exclude all markdown EXCEPT README</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.md</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">README.md</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">CONTRIBUTING.md</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Override built-in filters:</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Edit common/filtering.py</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Add exception to _should_index_file()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> name </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;important_file.txt&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> </span><span class="token boolean">True</span><br></span></code></pre></div></div>
</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="glob-patterns-not-working">&quot;Glob patterns not working&quot;<a href="#glob-patterns-not-working" class="hash-link" aria-label="Direct link to &quot;Glob patterns not working&quot;" title="Direct link to &quot;Glob patterns not working&quot;" translate="no">​</a></h3>
<p><strong>Common mistakes:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># ❌ Wrong: Missing ** for recursive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">test/**          </span><span class="token comment" style="color:rgb(106, 153, 85)"># Only matches /test/, not /src/test/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># ✅ Correct: Use **/ for recursive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/test/**       </span><span class="token comment" style="color:rgb(106, 153, 85)"># Matches test/ anywhere in tree</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># ❌ Wrong: Using / at start (won&#x27;t match)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">/test/**         </span><span class="token comment" style="color:rgb(106, 153, 85)"># Only matches /test/ at repo root</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># ✅ Correct: Use **/ for anywhere</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/test/**       </span><span class="token comment" style="color:rgb(106, 153, 85)"># Matches at any depth</span><br></span></code></pre></div></div>
<p><strong>Test patterns:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Install globmatch tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">pip </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> globmatch</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Test pattern</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">globmatch </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;**/*.test.js&#x27;</span><span class="token plain"> src/components/Button.test.js</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Output: True</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-impact">Performance Impact<a href="#performance-impact" class="hash-link" aria-label="Direct link to Performance Impact" title="Direct link to Performance Impact" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="index-size">Index Size<a href="#index-size" class="hash-link" aria-label="Direct link to Index Size" title="Direct link to Index Size" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">Repo: agro (Python, ~500 files)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">With tests + node_modules:</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Files indexed: 15,420</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Chunks: 89,342</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- BM25 index: 342 MB</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Qdrant collection: 1.2 GB</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Without tests/node_modules:</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Files indexed: 287</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Chunks: 3,420</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- BM25 index: 12 MB</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Qdrant collection: 42 MB</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Reduction: 96% files, 96% chunks, 96% storage</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="retrieval-speed">Retrieval Speed<a href="#retrieval-speed" class="hash-link" aria-label="Direct link to Retrieval Speed" title="Direct link to Retrieval Speed" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">With tests (89k chunks):</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- BM25 search: ~800ms</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Qdrant search: ~600ms</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Reranking: ~1.2s</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Total: ~2.6s</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Without tests (3.4k chunks):</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- BM25 search: ~30ms</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Qdrant search: ~50ms</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Reranking: ~200ms</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Total: ~280ms</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Speed-up: 9.3x faster</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="accuracy">Accuracy<a href="#accuracy" class="hash-link" aria-label="Direct link to Accuracy" title="Direct link to Accuracy" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">Golden questions: 25 queries</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">With tests:</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Top-1: 1.9%</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Top-5: 12.0%</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- MRR: 0.14</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Without tests:</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Top-1: 82.0%</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- Top-5: 95.2%</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">- MRR: 0.88</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Improvement: 43x better Top-1, 6.3x better MRR</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-start-conservative">1. Start Conservative<a href="#1-start-conservative" class="hash-link" aria-label="Direct link to 1. Start Conservative" title="Direct link to 1. Start Conservative" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Minimal exclusions (safest)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/node_modules/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/.venv/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/dist/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/build/**</span><br></span></code></pre></div></div>
<p>Run eval to get baseline, then add exclusions incrementally.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-measure-impact">2. Measure Impact<a href="#2-measure-impact" class="hash-link" aria-label="Direct link to 2. Measure Impact" title="Direct link to 2. Measure Impact" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Before changing filters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-m</span><span class="token plain"> eval.eval_loop </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--baseline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># After each change</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-m</span><span class="token plain"> eval.eval_loop </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--compare</span><br></span></code></pre></div></div>
<p>Only keep exclusions that improve MRR or accuracy.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-exclude-tests-aggressively">3. Exclude Tests Aggressively<a href="#3-exclude-tests-aggressively" class="hash-link" aria-label="Direct link to 3. Exclude Tests Aggressively" title="Direct link to 3. Exclude Tests Aggressively" translate="no">​</a></h3>
<p><strong>Critical for retrieval quality.</strong> Tests use similar language to prod code but represent mocks, not real implementations.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Comprehensive test exclusions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/test/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/tests/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/__tests__/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.test.*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/*.spec.*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/fixtures/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/mocks/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/__mocks__/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/e2e/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**/integration/**</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-keep-lockfiles-usually">4. Keep Lockfiles (Usually)<a href="#4-keep-lockfiles-usually" class="hash-link" aria-label="Direct link to 4. Keep Lockfiles (Usually)" title="Direct link to 4. Keep Lockfiles (Usually)" translate="no">​</a></h3>
<p>Unless you have a huge monorepo, lockfiles are small and can help answer dependency questions.</p>
<p><strong>Exclude only if:</strong></p>
<ul>
<li class="">Repo has 10k+ files</li>
<li class="">Storage is constrained</li>
<li class="">You never query about dependencies</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-use-presets-as-starting-point">5. Use Presets as Starting Point<a href="#5-use-presets-as-starting-point" class="hash-link" aria-label="Direct link to 5. Use Presets as Starting Point" title="Direct link to 5. Use Presets as Starting Point" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Load preset (via GUI or copy manually)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">cp</span><span class="token plain"> presets/python.exclude.txt data/exclude_globs.txt</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Customize for your repo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">vim</span><span class="token plain"> data/exclude_globs.txt</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Test</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python indexer/index_repo.py</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-m</span><span class="token plain"> eval.eval_loop</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="advanced-per-repo-filters">Advanced: Per-Repo Filters<a href="#advanced-per-repo-filters" class="hash-link" aria-label="Direct link to Advanced: Per-Repo Filters" title="Direct link to Advanced: Per-Repo Filters" translate="no">​</a></h2>
<p><strong>File:</strong> <code>repos.json</code></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;agro&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;path&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/path/to/agro&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;exclude_patterns&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/legacy/**&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/deprecated/**&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token property">&quot;client-app&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;path&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/path/to/client-app&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token property">&quot;exclude_patterns&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/node_modules/**&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/dist/**&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">      </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/*.test.ts&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre></div></div>
<p><strong>Priority:</strong></p>
<ol>
<li class="">Per-repo <code>exclude_patterns</code> (highest)</li>
<li class="">Global <code>data/exclude_globs.txt</code></li>
<li class="">Built-in <code>PRUNE_DIRS</code> (lowest)</li>
</ol>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="migration-guide">Migration Guide<a href="#migration-guide" class="hash-link" aria-label="Direct link to Migration Guide" title="Direct link to Migration Guide" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="from-no-filtering">From No Filtering<a href="#from-no-filtering" class="hash-link" aria-label="Direct link to From No Filtering" title="Direct link to From No Filtering" translate="no">​</a></h3>
<p>If you previously indexed without filters:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># 1. Backup old index</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">cp</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-r</span><span class="token plain"> data/agro data/agro.backup</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 2. Add exclusions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">cat</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> data/exclude_globs.txt </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;&lt;</span><span class="token string" style="color:rgb(206, 145, 120)">EOF</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/test/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/tests/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/*.test.*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/*.spec.*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/node_modules/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/dist/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">**/build/**</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token string" style="color:rgb(206, 145, 120)">EOF</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 3. Reindex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python indexer/index_repo.py</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 4. Compare eval results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">REPO</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">agro python </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-m</span><span class="token plain"> eval.eval_loop</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Expected: Massive accuracy improvement</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps" translate="no">​</a></h2>
<ul>
<li class=""><strong><a class="" href="/agro-rag-engine/configuration/performance">Performance Tuning</a></strong> - Optimize retrieval speed and quality</li>
<li class=""><strong><a class="" href="/agro-rag-engine/features/learning-reranker">Learning Reranker</a></strong> - Improve search quality with feedback</li>
<li class=""><strong><a class="" href="/agro-rag-engine/operations/troubleshooting">Troubleshooting</a></strong> - Debug retrieval issues</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/DMontgomery40/agro-rag-engine/tree/main/website/docs/configuration/filtering.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/agro-rag-engine/configuration/performance"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Performance &amp; Cost Analysis</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/agro-rag-engine/configuration/alerting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Alerting System</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#why-filtering-matters" class="table-of-contents__link toc-highlight">Why Filtering Matters</a></li><li><a href="#filtering-architecture" class="table-of-contents__link toc-highlight">Filtering Architecture</a></li><li><a href="#built-in-directory-exclusions" class="table-of-contents__link toc-highlight">Built-in Directory Exclusions</a></li><li><a href="#file-extension-exclusions" class="table-of-contents__link toc-highlight">File Extension Exclusions</a></li><li><a href="#glob-pattern-exclusions" class="table-of-contents__link toc-highlight">Glob Pattern Exclusions</a><ul><li><a href="#default-patterns" class="table-of-contents__link toc-highlight">Default Patterns</a></li></ul></li><li><a href="#how-to-configure-filtering" class="table-of-contents__link toc-highlight">How to Configure Filtering</a><ul><li><a href="#via-gui-recommended" class="table-of-contents__link toc-highlight">Via GUI (Recommended)</a></li><li><a href="#via-file-editing" class="table-of-contents__link toc-highlight">Via File Editing</a></li></ul></li><li><a href="#language-specific-presets" class="table-of-contents__link toc-highlight">Language-Specific Presets</a><ul><li><a href="#python" class="table-of-contents__link toc-highlight">Python</a></li><li><a href="#javascripttypescript" class="table-of-contents__link toc-highlight">JavaScript/TypeScript</a></li><li><a href="#rust" class="table-of-contents__link toc-highlight">Rust</a></li><li><a href="#go" class="table-of-contents__link toc-highlight">Go</a></li></ul></li><li><a href="#lockfile-strategy" class="table-of-contents__link toc-highlight">Lockfile Strategy</a></li><li><a href="#testing-exclusion-impact" class="table-of-contents__link toc-highlight">Testing Exclusion Impact</a><ul><li><a href="#dry-run-mode" class="table-of-contents__link toc-highlight">Dry Run Mode</a></li><li><a href="#eval-beforeafter" class="table-of-contents__link toc-highlight">Eval Before/After</a></li></ul></li><li><a href="#common-exclusion-patterns" class="table-of-contents__link toc-highlight">Common Exclusion Patterns</a><ul><li><a href="#exclude-tests-critical" class="table-of-contents__link toc-highlight">Exclude Tests (Critical)</a></li><li><a href="#exclude-generated-files" class="table-of-contents__link toc-highlight">Exclude Generated Files</a></li><li><a href="#exclude-build-artifacts" class="table-of-contents__link toc-highlight">Exclude Build Artifacts</a></li><li><a href="#exclude-vendordependencies" class="table-of-contents__link toc-highlight">Exclude Vendor/Dependencies</a></li><li><a href="#exclude-documentation-optional" class="table-of-contents__link toc-highlight">Exclude Documentation (Optional)</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#index-is-too-large" class="table-of-contents__link toc-highlight">&quot;Index is too large&quot;</a></li><li><a href="#retrieval-returns-wrong-files" class="table-of-contents__link toc-highlight">&quot;Retrieval returns wrong files&quot;</a></li><li><a href="#important-files-are-excluded" class="table-of-contents__link toc-highlight">&quot;Important files are excluded&quot;</a></li><li><a href="#glob-patterns-not-working" class="table-of-contents__link toc-highlight">&quot;Glob patterns not working&quot;</a></li></ul></li><li><a href="#performance-impact" class="table-of-contents__link toc-highlight">Performance Impact</a><ul><li><a href="#index-size" class="table-of-contents__link toc-highlight">Index Size</a></li><li><a href="#retrieval-speed" class="table-of-contents__link toc-highlight">Retrieval Speed</a></li><li><a href="#accuracy" class="table-of-contents__link toc-highlight">Accuracy</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a><ul><li><a href="#1-start-conservative" class="table-of-contents__link toc-highlight">1. Start Conservative</a></li><li><a href="#2-measure-impact" class="table-of-contents__link toc-highlight">2. Measure Impact</a></li><li><a href="#3-exclude-tests-aggressively" class="table-of-contents__link toc-highlight">3. Exclude Tests Aggressively</a></li><li><a href="#4-keep-lockfiles-usually" class="table-of-contents__link toc-highlight">4. Keep Lockfiles (Usually)</a></li><li><a href="#5-use-presets-as-starting-point" class="table-of-contents__link toc-highlight">5. Use Presets as Starting Point</a></li></ul></li><li><a href="#advanced-per-repo-filters" class="table-of-contents__link toc-highlight">Advanced: Per-Repo Filters</a></li><li><a href="#migration-guide" class="table-of-contents__link toc-highlight">Migration Guide</a><ul><li><a href="#from-no-filtering" class="table-of-contents__link toc-highlight">From No Filtering</a></li></ul></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/agro-rag-engine/getting-started/quickstart">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/agro-rag-engine/api/reference">API Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/agro-rag-engine/configuration/models">Configuration</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Features</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/agro-rag-engine/features/rag">RAG System</a></li><li class="footer__item"><a class="footer__link-item" href="/agro-rag-engine/features/learning-reranker">Learning Reranker</a></li><li class="footer__item"><a class="footer__link-item" href="/agro-rag-engine/features/mcp">MCP Integration</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/DMontgomery40/agro-rag-engine" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/agro-rag-engine/development/contributing">Contributing</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 AGRO Project. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>